<!DOCTYPE html>
<html lang="en" th:replace="~{/home/layout::shared(~{::.login-container},~{::link})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập</title>
    <link rel="stylesheet" href="/css/login.css">
</head>

<body>
    <div class="login-wrapper">
        <section class="login-container">
            <h2>Đăng nhập</h2>

            <!-- Hiển thị thông báo nếu có -->
            <i th:if="${param.error}" style="color: red;">Tài khoản hoặc mật khẩu không đúng!</i>
            <i th:if="${param.logout}" style="color: green;">Bạn đã đăng xuất thành công.</i>
            <i th:text="${msg}" style="color: red;"></i>

            <form action="/cookie/login/check" method="post">
                <!-- Username/email -->
                <input type="text" name="identifier" 
                       placeholder="Tên đăng nhập hoặc Email" 
                       th:value="${@cookieService.getValue('un')}" required>

                <!-- Password -->
                <input type="password" name="password" 
                       placeholder="Mật khẩu" 
                       th:value="${@cookieService.getValue('pw')}" required>

                <!-- Remember me -->
                <label>
                    <input type="checkbox" name="remember" value="true" 
                           th:checked="${@cookieService.get('un') != null}"> Ghi nhớ đăng nhập
                </label>

                <!-- Submit buttons -->
                <button type="submit">Đăng nhập</button>
                <button type="button" class="register-btn" onclick="window.location.href='/register'">Đăng ký</button>
            </form>
        </section>
    </div>
</body>
</html>
